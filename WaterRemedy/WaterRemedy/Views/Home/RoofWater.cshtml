@model IEnumerable<WaterRemedy.Models.Rainfall>

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Roof Water</title>
    <meta content="" name="descriptison">
    <meta content="" name="keywords">
    <link rel="icon" href="~/pic/greenwater.png" type="image/x-icon">

    <link href="~/StyleFolder/bootstrap.min.css" rel="stylesheet" />
    <link href="~/fonts/LayoutIconFonts/icofont.min.css" rel="stylesheet" />
    <link href="~/StyleFolder/animate.css" rel="stylesheet" />
    <link href="~/StyleFolder/venobox.css" rel="stylesheet" />
    <link href="~/StyleFolder/style.css" rel="stylesheet" />
    <link href="~/vendor/icofont/icofont.min.css" rel="stylesheet">
    <link href="~/css/mdb.css" rel="stylesheet" />
    <link href="~/StyleFolder/DataTables/css/dataTables.bootstrap4.css" rel="stylesheet" />
    <script src="~/JavaScript/popper.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet'>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script src="~/Scripts/modernizr-2.8.3.js"></script>
    <link href="~/StyleFolder/sideNavBar.css" rel="stylesheet" />
    <link href="~/StyleFolder/aclculateArea.css" rel="stylesheet" />
    <script src="~/js/echarts.min.js"></script>
</head>
<body>
    <header id="header" class="fixed-top">
        <div class="HeaderContainer">

            <div class="logo float-left">
                <h1 class="text-light"><img src="~/img/TTOL.jpg" style="max-height:50px" /><a href="/Home/HomeIndex"><span>Water Remedy</span></a></h1>
                <!-- <a href="index.html"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
            </div>

            <nav class="nav-menu float-right d-none d-lg-block">
                <ul>
                    <li class="active">
                        <a href="/Home/HomeIndex">Home</a>
                    </li>
                    <li>
                        <a href="/Home/AboutWater">About Us</a>
                    </li>
                    <li class="drop-down">
                        <a href="/Home/DIYDetergent">Clean Water</a>
                        <ul>
                            <li><a href="/Home/DIYDetergent#hello">Check my products</a></li>
                        </ul>
                    </li>
                    <li class="drop-down">
                        <a href="/Home/RoofWater">Water Saver</a>
                        <ul>
                            <li><a href="/Home/RoofWater#rwater">How Much Can Save</a></li>
                            @*<li><a href="/Home/WaterTank">Have A Water Tank</a></li>*@
                        </ul>
                    </li>
                    <li>
                        <a href="/Home/CatchmentInDanger">Water Facts</a>
                    </li>
                </ul>
            </nav><!-- .nav-menu -->
        </div>
    </header><!-- End #header -->
    <section>
        <div class="container-diy">
            <div class="row">
                <div id="Roof" class="col-lg-12 col-md-12 filter-app">
                    @*<img src="~/img/roof-water.jpg" style="width:800px; height:400px" />*@
                    <div class="Roof-container">
                        <h1 style="font-weight:600">Water Saver</h1>
                        <div style="margin-top:30px">
                            <span class="p">Do you know?</span>
                            <br>
                            <span class="ps">Your roof collect rainfall reach over 2000l per year? </span>
                            <br>
                            <span class="p">What small changes can do? </span>
                            <br>
                            <span class="ps">Check your ROOF size and install a water tank to harvest rain.</span>
                        </div>
                        @*<h2 style="font-weight:bold">Water is more precious than gold</h2>*@
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="container-diy" style="text-align:center">
        <button class="btn btn-ligh" style="border:0px solid black; font-weight:bold; color:black; width:300px; background-color:rgba(128, 219, 213, 1)" id="cal">Step 1: Measure Your Roof</button>
        <button class="btn btn-ligh" style="border:0px solid black; font-weight:bold; color:black; width:300px; background-color:rgba(236, 125, 155, 1)" id="cal">Step 2: Planning</button>
        <button class="btn btn-ligh" style="border:0px solid black; font-weight:bold; color:black; width:300px; background-color:rgba(186, 218, 85, 1)" id="cal">Summary</button>
        <button class="btn btn-ligh" style="border:0px solid black; font-weight:bold; color:black; width:300px; background-color:rgba(242, 216, 160, 1)" id="cal">Instaliation</button>
    </div>

    @*<div id="itmatters" class="container-diy" style="margin-top:80px; text-align:center">
            <div class="row">
                <div class="col-lg-3 col-md-3 filter-app">
                    <h2 style="text-align:center; color:black; font-size:27px; font-weight:600">
                        Why it matters
                    </h2>
                    <p style="text-align:center; color:black; font-weight:500; font-size:17px; margin-top:30px">
                        Water resources in Melbourne are limited.
                    </p>
                    <p style="text-align:center; color:black; font-weight:500; font-size:17px">
                        Melbourne's population has increased the highest rate among capital cities that leads to increased water usage.  Natural events such as bushfires have a severe impact on water catchments as well.
                    </p>
                    <p style="text-align:center; color:black; font-weight:500; font-size:17px">
                        Everyone can reuse rainwater to save our water storage. 
                    </p>
                </div>

                <div id="Roofheader" class="col-lg-6 col-md-6 filter-app">
                    <div id="rooftitle" style="text-align:center;position:absolute">
                        <span id="span3" style="font-weight:600">Rainfall collect & Roof</span>
                        <br>
                        <span id="span4" style="font-weight:500">Water is more precious than gold</span>
                    </div>
                </div>

                <div class="col-lg-3 col-md-3 filter-app">
                    <div class="container" id="threePic">
                        <h2 style="text-align:center; color:black; font-size:27px; font-weight:600">
                            What does it use for?
                        </h2>
                        <div class="c1">
                            <img src="~/img/toilt2.png" class="img-fluid" id="ggarden" />
                            <div class="c2">closestool</div>
                        </div>
                        <div class="c1" style="text-align:center">
                            <img src="~/img/flower.jpg" class="img-fluid" id="bbath" />
                            <div class="c2">gardening</div>
                        </div>
                        <div class="c1" style="text-align:center">
                            <img src="~/img/wash-car.jpg" class="img-fluid" id="washCar" />
                            <div class="c2">car washing</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>*@



    <div id="howmuch" style="margin-top:50px"></div>




    <input id="houseArea" style="display:none" value="0.0" />
    <div style="text-align:center; margin-top:50px">
        <img src="~/img/arrow-down.png" style="width:auto;height:50px" />
    </div>
    <div style="margin-bottom:50px" id="rwater">
        <h2 style="text-align:center; color:black; font-size:40px; font-weight:600">
            How much you can save from rainfall?
        </h2>
        <!-- Button trigger modal -->
        <div style="text-align:center; margin-top:50px">
            @*<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
                    Launch demo modal
                </button>*@
            <a id="roofModal" data-toggle="modal" data-target="#exampleModalCenter">Click me: The Steps of Measure Your Roof ?</a>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Measure Your Roof</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p style="color:black; font-weight:500; font-size:15px">
                            Step 1: In the search box, type in your home address with street number and search
                            <br />
                            E.g.  1234 Collins Street, Melbourne
                            <br />
                            <br />
                            Step 2: Zoom in until you can see the shape of your roof clearly
                            <br />
                            <br />
                            Step 3: On the upper right corner of the map@*<img src="~/img/line.png">*@ '十', click on the polyline sign to start.
                            <br />
                            <br />
                            Step 4: You can now see the cursor on the map turns to a black cross<img src="~/img/cross.png" style="width:20px; height:20px">. Click on each corner to draw the shape of your roof.
                            <br />
                            <br />
                            Step 5: Click on the "Calculate" button to see the results.
                        </p>
                    </div>
                    <div class="modal-footer">
                        <a style="text-decoration:underline; font-size:15px" data-dismiss="modal">Close</a>
                    </div>
                </div>
            </div>
        </div>




        <div class="mapContainer">
            <div class="row" style="margin-top:50px">
                @*<div class="col-lg-3 col-md-3 filter-app">
                        <section class="container" id="matter">
                            <h2 style="color:black; font-size:30px; font-weight:600">
                                Measure Your Roof
                            </h2>

                        </section>
                    </div>*@
                <div class="col-lg-8 col-md-8 filter-app">
                    <div id="map"></div>

                </div>
                <div class="col-lg-4 col-md-4 filter-app">
                    <div class="card">
                        <div class="card-header">
                            Result
                        </div>
                        <div class="card-body">
                            <blockquote class="blockquote mb-0">
                                <h6>Rainfall collection Yearly (L/year)</h6>
                                <p id="lyear">0</p>
                            </blockquote>
                            <blockquote class="blockquote mb-0">
                                <h6>Equal value in AUD</h6>
                                <p id="savemoney">0</p>
                            </blockquote>
                            <div style="text-align:center">
                                <button class="btn btn-ligh" style="border:0px solid black; font-weight:bold; color:black; width:250px; background-color:rgba(128, 219, 213, 1)" id="cal">Calculate</button>
                                <br>
                                <button class="btn btn-ligh" style="border:0px solid black; font-weight:bold; color:black; width:250px; background-color:rgba(128, 219, 213, 1)" id="delete-button">Reset</button>
                                <br>
                                <button class="btn btn-ligh" style="border:0px solid black; font-weight:bold; color:black; width:250px; background-color:rgba(236, 125, 155, 1)">Next Step ></button>
                                @*<button class="btn btn-ligh" style="border:0px solid black; font-weight:bold; color:black; width:250px; background-color:rgba(235, 186, 77, 1)" id="find">Find Stores</button>*@
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div @*class="container"*@>
        <input id="pac-input" class="controls" type="text" placeholder="Enter a address..." />
    </div>

    <div id="graph"></div>

    <div id="showbar">
        <div class="container" style="margin-bottom:20px; margin-top:100px; text-align:center">
            <h6 style="text-align:center; font-size:27px; font-weight:600; color:black">Check Your Monthly Water Savings!</h6>
            <p style="color:black; font-weight:500; font-size:20px; text-align:center">
                The yellow line indicates the amount of monthly rainfall in Melbourne.
            </p>
            <p style="color:black; font-weight:500; font-size:20px; text-align:center">
                The blue bar indicates the volume of your water storage in each month.
            </p>
            <p style="color:black; font-weight:500; font-size:20px; text-align:center">
                You can hang your cursor over the bars to see the exact number of rainfall and water storage.
            </p>
            <p style="color:black; font-weight:500; font-size:20px; text-align:center">
                In February and March, there is less rainfall. Hence, it's good time to install new tanks.
            </p>
            <div id="bar" class="row" style="width: inherit; height: 400px; margin-top:50px"></div>
        </div>
    </div>

    <div class="container" style="text-align:center; margin-top:50px">
        <div style="text-align:center; margin-top:50px">
            <img src="~/img/arrow-down.png" style="width:auto;height:50px" />
            <h2 style="color:black; font-size:30px; font-weight:600">Your Monthly Collection</h2>
        </div>
        <div class="row" style="margin-top:50px">
            <div class="col-lg-3 col-md-3 filter-app">
                <img src="~/img/smile-face.png" style="width:15vh; float:right" />
            </div>
            <div class="col-lg-9 col-md-9 filter-app">
                <h2 style="color:black; font-size:30px; font-weight:600; float:left">Dear user</h2>
                <br>
                <br>
                <p style="color:black; font-weight:500; font-size:25px; float:left"><span id="numTank">number</span> of <span id="sizeTank">size</span>  water tank are meet your roof</p>
                <br>
                <br>
                <h2 style="color:black; font-size:20px; font-weight:600; float:left">YOUR ACTIONS TURELY SAVE WATER CATCHMENT BY SMALL CHANGES :)</h2>
            </div>

        </div>
    </div>

    <div class="container" style="text-align:center; margin-top:50px">
        <div style="text-align:center; margin-top:50px">
            <img src="~/img/arrow-down.png" style="width:auto;height:50px" />
            <h2 style="color:black; font-size:30px; font-weight:600">Have a water tank now!</h2>
        </div>
        <div style="margin-top:60px">
            <h5 style="text-decoration:underline; color:black; font-size:25px; font-weight:600">STEP1: Planning</h5>
            <p style="color:black; font-size:20px; font-weight:600">Where do you want to put the watertank?</p>
            <div class="sigma-content">
                <button type="button" class="Navbtn" data-aos="fade-right" data-aos-duration="800" style="font-size:20px; font-weight:500; margin-top:-20px">ABOVE</button>
                <div class="sigma-middle-line" style="margin-top:30px">
                    <span class="sigma-line-text">GROUND</span>
                </div>
                <button type="button" class="Navbtn" data-aos="fade-left" data-aos-duration="800" style="font-size:20px; font-weight:500">UNDER</button>
            </div>
            <p style="color:black; font-size:20px; font-weight:600">How many tank do you need?</p>
            <button class="btn btn-ligh" data-toggle="modal" data-target="#exampleModalCenter2" style="border:0px solid black; font-weight:bold; color:black; width:100px; background-color:rgba(235, 186, 77, 1)" id="one">1</button>
            <button class="btn btn-ligh" data-toggle="modal" data-target="#exampleModalCenter3" style="border:0px solid black; font-weight:bold; color:black; width:100px; background-color:rgba(235, 186, 77, 1)" id="oneMore">1+</button>
        </div>

        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel" style="margin-top:80px">
            <p style="color:black; font-size:20px; font-weight:600">What are other necessary components</p>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="~/img/T1.png" alt="First slide">
                </div>
                <div class="carousel-item">
                    <img src="~/img/T2.png" alt="Second slide">
                </div>
                <div class="carousel-item">
                    <img src="~/img/T3.png" alt="Third slide">
                </div>
                <div class="carousel-item">
                    <img src="~/img/T4.png" alt="Third slide">
                </div>
                <div class="carousel-item">
                    <img src="~/img/T5.png" alt="Third slide">
                </div>
                <div class="carousel-item">
                    <img src="~/img/T6.png" alt="Third slide">
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>

        <div>
            <h5 style="text-decoration:underline; color:black; font-size:25px; font-weight:600">STEP2: Find a store</h5>
            <div class="mapContainer">
                <div class="row" style="margin-top:30px">
                    <div class="col-lg-1 col-md-1 filter-app"></div>
                    <div class="col-lg-10 col-md-10 filter-app">


                        <div class="row" style="margin-bottom:30px; text-align:center">
                            <div class="col-lg-6 col-md-6 filter-app"><button class="btn btn-ligh" style="border:0px solid black; font-weight:bold; color:black; width:250px; background-color:rgba(235, 186, 77, 1)" id="delete-button2">Clear Map</button></div>
                            <div class="col-lg-6 col-md-6 filter-app"><button class="btn btn-ligh" style="border:0px solid black; font-weight:bold; color:black; width:250px; background-color:rgba(235, 186, 77, 1)" id="find2">Find Stores</button></div>
                        </div>
                        <div id="map3" style="height: 500px; width: auto"></div>
                        <div style="text-align:center; margin-bottom:20px">
                            <input id="pac-input2" class="controls" type="text" onchange="onAdderssChange()" @*placeholder="Enter a address..."*@ />
                        </div>
                    </div>
                    <div class="col-lg-1 col-md-1 filter-app"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="container" style="text-align:center; margin-top:70px">
        <h2 style="color:black; font-size:25px; font-weight:600; text-decoration:underline">STEP3: Instalation</h2>
        <iframe id="instructionVideo" @*width="760" height="515"*@ src="https://www.youtube.com/embed/2Bq71mPvK0k" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>

    <div class="form-check">
        <label class="form-check-label">
            <input type="checkbox" name="category" class="form-check-input" value="">Option 1
        </label>
    </div>
    <div class="form-check">
        <label class="form-check-label">
            <input type="checkbox" name="category" class="form-check-input" value="">Option 2
        </label>
    </div>
    <div class="form-check">
        <label class="form-check-label">
            <input type="checkbox" name="category" class="form-check-input" value="">Option 3
        </label>
    </div>
    <button class="btn btn-ligh" style="border:0px solid black; font-weight:bold; color:black; width:250px; background-color:rgba(235, 186, 77, 1)" id="btnOperate" onclick="static_num()">count</button>


    @* sildes *@
    <div class="modal fade" id="exampleModalCenter2" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p style="color:black; font-weight:500; font-size:15px">
                        <span style="font-weight:bold">Plan A:</span> two 3000L polyethylene tanks; starting from $1976 in total; lifespan of 10 years;
                    </p>
                    <p style="color:black; font-weight:500; font-size:15px">
                        <span style="font-weight:bold">Plan B:</span> two 3000L steel tanks; starting from around $3200 in total; lifespan of 20 years;
                    </p>
                </div>
                <div class="modal-footer">
                    <a style="text-decoration:underline; font-size:15px" data-dismiss="modal">Close</a>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="exampleModalCenter3" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p style="color:black; font-weight:500; font-size:15px">
                        <span style="font-weight:bold">Plan C:</span> one 5000L polyethylene tank and one 1000L polyethylene tank; starting $1523 from in total; lifespan of 10 years; can be installed close to the target room;
                    </p>
                    <p style="color:black; font-weight:500; font-size:15px">
                        <span style="font-weight:bold">Plan D:</span> one 5000L steel tank and one 1000L steel tank; starting from $3035 in total; lifespan of 10 years; can be installed close to the target room; less complexity of installation
                    </p>
                </div>
                <div class="modal-footer">
                    <a style="text-decoration:underline; font-size:15px" data-dismiss="modal">Close</a>
                </div>
            </div>
        </div>
    </div>


    @*<div class="container">
            <section id="team1">
                <div style="text-align:center">
                    <div style="text-align:center; margin-top:50px">
                        <img src="~/img/arrow-down.png" style="width:auto;height:50px" />
                    </div>
                    <h2 style="color:black; font-size:30px; font-weight:600; align-self:center">
                        Benefit from Roof Water
                    </h2>
                </div>
                <div>
                    <p style="color:black; font-weight:500; font-size:20px">Australian Government: </p>
                    <p style="color:black; font-weight:500; font-size:20px">
                        Using rainwater can reduce water bills, provide an alternative supply during water restrictions and help maintain a green, healthy garden.
                        Depending on tank size and climate, mains water use can be reduced by up to 100%. This in turn can help:
                    </p>
                </div>
                <ul>
                    <li style="color:black; font-weight:500; font-size:20px">
                        reduce the need for new dams or desalination plants.
                    </li>
                    <li style="color:black; font-weight:100; font-size:20px">
                        protect remaining environmental flows in rivers.
                    </li>
                    <li style="color:black; font-weight:100; font-size:20px">
                        reduce infrastructure operating costs.
                    </li>
                    <li style="color:black; font-weight:100; font-size:20px">
                        A roof of <span style="font-weight:bold">200</span> square meters, can provide a <span style="font-weight:bold">2000L </span>water harvest in Melbourne a year.
                    </li>
                    <li style="color:black; font-weight:100; font-size:20px">
                        A water tank can be used for <span style="font-weight:bold">10 years!</span> pay $98 for the tank <span style="font-weight:bold">but earn $187.17</span> from saving water by year!
                    </li>
                </ul>
            </section>
        </div>*@


    <div class="container" style="text-align:center; margin-bottom:50px; margin-top:50px">
        <h3 style="color:#363636; font-size:45px; font-weight:bold; margin-top:20px; margin-bottom:20px">What can do next   ?</h3>
        <div class="row" style="text-align:center">
            <div class="col-lg-4 col-md-4 filter-app"></div>
            <div class="col-lg-4 col-md-4 filter-app" style="background-color:rgba(235, 186, 77, 0.18)">
                <div style="margin-top:50px; margin-bottom:50px">
                    <span style="font-family:Raleway; color:black">INDOOR</span>
                    <br>
                    <span style="font-family:Raleway; color:black; font-weight:bold">Check out Home Detergents</span>
                    <br>
                    <span style="font-family:Raleway; color:black; font-weight:bold">Stop & Replace</span>
                    <br>
                    <button type="button" class="Navbtn" data-aos="fade-right" data-aos-duration="1000" onclick="window.location.href='/Home/DIYDetergent'">LEARN MORE ></button>
                </div>
            </div>
            <div class="col-lg-4 col-md-4 filter-app"></div>
        </div>
    </div>

    <div class="l_c_h">
        <div class="c_h">
            <div class="left_c">
                <div class="left center_icons">
                    <!--center_icons-->
                    Live help!
                </div><!--end center_icons-->
                <div class="right right_c left_icons">
                    @*<a href="#" class="mini" style="font-size:23px;">+</a>*@
                    <img src="~/img/chat-icon3.png" style="width:auto; height:35px" />
                </div>
            </div>
            <div class="clear"></div>
        </div>
        <div class="chat_container" style="display: none;">
            <iframe src='https://webchat.botframework.com/embed/myqnaserver-bot?s=e1ts79DPVWo.zIh5ekvimyEqEIVKnaPRLDS7fXMX7r-7HdjQgFv_CBc' style='min-width: 100px; width: 270px; min-height: 500px; border:0'></iframe>
        </div>
    </div>

    <div id="test" class="container">
        <style>
        </style>
        <h1>hello world</h1>
        <h4>hello PDF</h4>
        <img src="~/img/bath-01.jpg" />
    </div>

    <button class="btn btn-ligh" style="border:0px solid black; font-weight:bold; color:black; width:250px; background-color:rgba(235, 186, 77, 1)" id="pdf">generate</button>

    <footer id="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-4 filter-app" style="text-align:center">
                    <img src="~/img/TTOL.jpg" style="width:9vh; height:10vh" />
                </div>
                <div class="col-lg-4 col-md-4 filter-app">
                    <h5>WHO WE ARE</h5>
                    <a href="#">Home</a>
                    <br>
                    <a href="/Home/AboutWater">About Us</a>
                </div>
                <div class="col-lg-4 col-md-4 filter-app">
                    <h5>OUR SERVICES</h5>
                    <a href="/Home/RoofWater">Water Save</a>
                    <br>
                    <a href="/Home/DIYDetergent">Clean Water</a>
                </div>
            </div>
        </div>
    </footer>

    @*<a href="#" class="back-to-top"><i class="icofont-simple-up">Top</i></a>*@


    <script src="~/Scripts/jquery-3.3.1.js"></script>
    <script src="~/JavaScript/bootstrap.js"></script>
    @*<script src="~/JavaScript/bootstrap.bundle.js"></script>*@
    <script src="~/JavaScript/jquery.easing.min.js"></script>
    <script src="~/JavaScript/isotope.pkgd.js"></script>
    <script src="~/JavaScript/venobox.js"></script>
    <script src="~/JavaScript/main.js"></script>
    <script src="~/js/mdb.js"></script>
    <script src="~/JavaScript/DataTables/jquery.dataTables.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD8juZ2HNagjrCBrnnjuBkhccADbTfjgt8&callback=initMap&libraries=drawing,places,geometry&v=weekly"
            defer></script>
    <script src="~/Scripts/calculateArea.js"></script>
    <script src="~/Scripts/Tanks.js"></script>
    <script src="~/Scripts/sidenavbar.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>
    <script>
        var displayBar = document.getElementById("showbar");
        var monthStorageArray = [];
            function calculate() {
                var area = document.getElementById('houseArea').value;
                var totalSaveMoney = 0.0;
                var yearStorage;
                var indoorSave = 0.0;
                var outdoorSave = 0.0;
                @*var currentMonthWater = @ViewBag.currentMonthWater;*@
                var currentMonthIndoorReq = @ViewBag.currentMonthIndoorReq;
                var rainfallList = @ViewBag.list;

                var rainfallMonth = @Html.Raw(Json.Encode(@ViewBag.rfmList));
                var indoorRequired = @Html.Raw(Json.Encode(@ViewBag.indoorReq));
                var outdoorRequired = @Html.Raw(Json.Encode(@ViewBag.outdoorReq));

                console.log(area);
                console.log(rainfallList);



                yearStorage = parseFloat(area) * rainfallList;
                console.log(yearStorage);
                document.getElementById('lyear').innerHTML = yearStorage.toFixed(2);

                for (var i = 0; i < rainfallMonth.length; i++) {

                    var currentMonthStorage = parseFloat(area) * parseFloat(rainfallMonth[i]);

                    if (currentMonthStorage == 0) {
                        totalSaveMoney = 0.0;
                        break;
                    }

                    monthStorageArray.push(parseFloat(currentMonthStorage.toFixed(2)));

                    if (currentMonthStorage >= outdoorRequired[i]) {
                        indoorSave += outdoorRequired[i] / 1000 * 2.683;
                    } else {
                        indoorSave += currentMonthStorage / 1000 * 2.683;
                    }

                    var remainingWater = currentMonthStorage - indoorRequired[i];
                    if (remainingWater < 0) {
                        outdoorSave += 0.0;
                    } else if (remainingWater < outdoorRequired[i]) {
                        outdoorSave += remainingWater / 1000 * 3.2552;
                    } else if (remainingWater >= outdoorRequired[i]) {
                        outdoorSave += outdoorRequired[i] / 1000 * 3.2552;
                    }
                }
                totalSaveMoney = outdoorSave + indoorSave;
                document.getElementById('savemoney').innerHTML = totalSaveMoney.toFixed(2);

                console.log(monthStorageArray);

                if (currentMonthStorage == 0) {
                    displayBar.style.display = "none";
                } else {
                    displayBar.style.display = "flex";
                }


                var myBar = echarts.init(document.getElementById("bar"), 'light');
        var monthList = @Html.Raw(Json.Encode(@ViewBag.monthList));
        var storageList = @Html.Raw(Json.Encode(@ViewBag.rlist));
        var rainfallMonth = @Html.Raw(Json.Encode(@ViewBag.rfmList));
        console.log(monthList);

        option = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    crossStyle: {
                        color: '#999'
                    }
                }
            },
            toolbox: {
                feature: {
                    dataView: {show: true, readOnly: false},
                    magicType: {show: true, type: ['line', 'bar']},
                    restore: {show: true},
                    saveAsImage: {show: true}
                }
            },
            legend: {
                data: ['Monthly_rainfall', 'water_storage/m^2']
            },
            xAxis: [
                {
                    type: 'category',
                    data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    axisPointer: {
                        type: 'shadow'
                    },
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    name: 'collected per m^2',
                    //min: 0,
                    //max: 50,
                    //interval: 10,
                    axisLabel: {
                        formatter: '{value} L'
                    },
                    splitLine:{show: false},
                },
                {
                    type: 'value',
                    name: 'Average rainfall',
                    //min: 15,
                    //max: 75,
                    //interval: 15,
                    axisLabel: {
                        formatter: '{value} mm'
                    }
                }
            ],
            series: [
                {
                    name: 'water_storage/m^2',
                    type: 'bar',
                    data: monthStorageArray
                },
                {
                    name: 'Monthly_rainfall',
                    type: 'line',
                    yAxisIndex: 1,
                    data: rainfallMonth
                }
            ]
        };
                myBar.setOption(option);


        }

        var cal = document.getElementById("cal");
        var reset = document.getElementById("delete-button");
        var findStore = document.getElementById("find");

        cal.addEventListener("click", calculate);
        //findStore.addEventListener("click", searchLocation);

        reset.addEventListener("click", resetGraph);
        function resetGraph() {
            monthStorageArray = [];
            resetMap();
        }

        //map2
        var reset2 = document.getElementById("delete-button2");
        var findStore2 = document.getElementById("find2");
        findStore2.addEventListener("click", searchLocation2);

        reset2.addEventListener("click", resetGraph2);
        function resetGraph2() {
            monthStorageArray = [];
            resetMap2();
            onAdderssChange();
        }



        $(function(){
            $(".c_h").click(function(e) {
                //if ($(".chat_container").is(":visible")) {
                //    $(".c_h .right_c .mini").text("+")
                //} else {
                //    $(".c_h .right_c .mini").text("-")
                //}
                $(".chat_container").slideToggle("slow");
                return false
        });
});
    </script>


    <script>
        $(document).ready(function () {
            var doc = new jsPDF();

            $('#pdf').click(function () {
                //var testDivElement = document.getElementById('someHtml');

                var imgData;
                html2canvas($("#test"), {
                    useCORS: true,
                    onrendered: function (canvas) {
                        imgData = canvas.toDataURL('image/png');
                        var doc = new jsPDF('p', 'pt', 'a4');
                        doc.addImage(imgData, 'PNG', 10, 10);
                        doc.save('sample-file.pdf');
                        //window.open(imgData);
                    }
                });

                //// get converted element
                //var element = document.querySelector('#test');
                //var images = element.querySelectorAll('img');

                //// convert img to base64
                //var imageBase64s = [];
                //for (var i = 0; i < images.length; i++){
                //    imageBase64s.push(getImageBase64(images[i]));
                //}

                //// get html string
                //var children = element.children;
                //var htmlString = '';
                //var j = 0;
                //for (var i = 0; i < children.length; i++) {
                //    if (children[i].tagName == "IMG") {
                //        htmlString += `<img src="${imageBase64s[j]}">`;
                //        j++;
                //    } else {
                //        htmlString += children[i].outerHTML;
                //    }
                //}

                //doc.fromHTML(element, 0, 0);
                //doc.save("test.pdf");
            });
        });

        function getImageBase64(imageEle) {
            var canvas = document.createElement('canvas');
            var ctx = canvas.getContext('2d');
            canvas.height = imageEle.naturalHeight;
            canvas.width = imageEle.naturalWidth;

            ctx.drawImage(imageEle, 0, 0, canvas.height, canvas.width);
            return canvas.toDataURL();
        }

    </script>

    <script>
        function static_num() {
            var arr = new Array();
            var items = document.getElementsByName("category");
            for (i = 0; i < items.length; i++) {
                if (items[i].checked) {
                    arr.push(items[i].value);
                }
            }
            alert("选择的个数为：" + arr.length);
        };
    </script>

    <style>
        #map {
            height: 500px;
            width: auto;
        }

        #showbar {
            display: none;
        }

        #pac-input2 {
            background-color: #fff;
            border-radius: 2px;
            border: 1px solid transparent;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
            box-sizing: border-box;
            font-family: Roboto;
            font-size: 15px;
            font-weight: 300;
            height: 29px;
            margin-left: 17px;
            margin-top: 10px;
            outline: none;
            padding: 0 11px 0 13px;
            text-overflow: ellipsis;
            width: 50%;
            display: none;
        }

            #pac-input2:focus {
                border-color: #4d90fe;
            }
    </style>
</body>
</html>
